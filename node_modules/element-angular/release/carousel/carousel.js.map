{"version":3,"sources":["../../src/carousel/carousel.ts"],"names":[],"mappings":"AAAA,OAAO,EACU,SAAA,EAAW,eAAA,EAAiB,UAAA,GAE5C,MAAM,eAAA,CAAgB;AACvB,OAAO,EAAE,cAAA,EAAe,MAAA,iBAAA,CAAA;AACxB,OAAO,EAAE,eAAA,EAAgB,MAAA,kBAAA,CAAA;AACzB,OAAO,EAAE,wBAAA,EAA0B,yBAAA,EAA0B,MAAA,cAAA,CAAA;AAC7D,MAEC,iBAAA,SAAA,eAAA;IAKD;QAEI,KAAK,EAAE,CAAA;QANT,eAAU,GAEe,EAAA,CAAA;QADzB,UAAK,GAEU,EAAA,CAAA;QADf,aAAQ,GAEY,KAAA,CAAA;IAGpB,CAAC;IACH;;;;OAIG;IACH,eADG,CAAA,SAAA,EAAA,SAAA;QAEC,EAAE,CAAC,CAAC,IADC,CAAI,OAAC,KAAW,SAAA,CAAU;YAAC,MAAA,CAAA;QAEhC,IAAI,CADC,QAAC,IAAW,IAAA,CAAK,aAAC,EAAa,CAAA;QAEpC,IAAI,CADC,aAAC,CAAa,SAAC,CAAS,CAAA;IAE/B,CAAC;IACH;;;;OAIG;IACH,qBALG,CAAA,SAAA,EAAA,SAAA;QAMC,EAAE,CAAC,CAAC,IALC,CAAI,gBAAC,KAAoB,SAAA,CAAU;YAAC,MAAA,CAAA;QAMzC,IAAI,CALC,QAAC,IAAW,IAAA,CAAK,aAAC,EAAa,CAAA;QAMpC,IAAI,CALC,aAAC,CAAa,SAAC,CAAS,CAAA;IAM/B,CAAC;IACH;;;OAGG;IACH,aARG,CAAA,KAAA;QASC,MAAM,gBAAgB,CARhB,GAAA,GAAM,IAAA,CAAK,QAAC,CAAQ,MAAC,CAAA;QAS3B,MAAM,gBAAgB,CARhB,SAAA,GAAY,KAAA,IAAS,GAAA,CAAI,CAAA,CAAE,CAAA,CAAE,CAAA,CAAE,KAAA,GAAQ,CAAA,CAAE,CAAA,CAAE,GAAA,GAAM,CAAA,CAAE,CAAA,CAAE,KAAA,CAAA;QAS3D,IAAI,CARC,KAAC,GAAO,SAAA,CAAA;QASb,IAAI,CARC,UAAC,CAAU,OAAC,CAAO,IAAC,CAAI,EAAA,CAAG,IAAA,EAAK,CAAE,CAAA;QASvC,IAAI,CARC,WAAC,CAAW,IAAC,CAAI,IAAC,CAAI,KAAC,CAAK,CAAA;IASnC,CAAC;IACH;;OAEG;IACH,aAVG;QAWC,IAAI,CAVC,KAAC,IAAQ,aAAA,CAAc,IAAC,CAAI,KAAC,CAAK,CAAA;QAWvC,IAAI,CAVC,KAAC,GAAO,WAAA,CAAY,GAAG,EAAA;YAW1B,IAAI,CAVC,aAAC,CAAa,IAAC,CAAI,KAAC,GAAO,CAAA,CAAE,CAAA;QAWpC,CAAC,EAVE,IAAA,CAAK,QAAC,CAAQ,CAAA;IAWnB,CAAC;IACH;;OAEG;IACH,eAZG;QAaC,MAAM,gBAAgB,CAZhB,KAAA,GAAQ,UAAA,CAAW,GAAG,EAAA;YAa1B,IAAI,CAZC,QAAC,CAAQ,OAAC,CAAO,CAAC,IAAC,EAAK,KAAA,EAAO,EAAA;gBAalC,IAAI,CAZC,KAAC,GAAO,KAAA,CAAA;gBAab,IAAI,CAZC,YAAC,EAAY,CAAA;gBAalB,IAAI,CAZC,YAAC,EAAY,CAAA;YAapB,CAAC,CAZC,CAAA;YAaF,2BAA2B;YAC3B,IAAI,CAZC,QAAC,GAAU,CAAA,IAAE,CAAI,KAAC,CAAK,IAAC,CAAI,IAAC,CAAI,EAAA,CAAG,CAAA,IAAE,CAAI,CAAA;YAa/C,YAAY;YACZ,IAAI,CAZC,QAAC,IAAW,IAAA,CAAK,aAAC,EAAa,CAAA;YAapC,YAAY,CAZC,KAAC,CAAK,CAAA;QAarB,CAAC,EAZE,CAAA,CAAE,CAAA;IAaP,CAAC;IACH;;;OAGG;IACH,WAfG,CAAA,OAAA;QAgBC,oBAAoB;QACpB,EAAE,CAAC,CAAC,CAfC,OAAC,IAAU,CAAA,OAAE,CAAO,KAAC,CAAK;YAAC,MAAA,CAAA;QAgBhC,IAAI,CAfC,aAAC,CAAa,OAAC,CAAO,KAAC,CAAK,YAAC,CAAY,CAAA;IAgBhD,CAAC;IACH;;OAEG;IACH,WAjBG;QAkBC,IAAI,CAjBC,KAAC,IAAQ,aAAA,CAAc,IAAC,CAAI,KAAC,CAAK,CAAA;IAkBzC,CAAC;;AAfI,qBAAA,GAAoC;IAkB3C,EAjBE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAkBvB,QAAQ,EAjBE,aAAA;gBAkBV,UAAU,EAjBE,CAAA,wBAAE,EAAyB,yBAAA,CAA0B;gBAkBjE,QAAQ,EAjBE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAwDT;aACF,EAjBC,EAAG;CAkBJ,CAjBC;AAkBF;;GAEG;AAlBF,yBAAA,GAAA,GAAA,EAAA,CAAA,EAoBA,CAAC;AAlBK,yBAAA,GAAyD;IAoBhE,UAAU,EAnBE,CAAA,EAAG,IAAA,EAAM,eAAA,EAAiB,IAAA,EAAM,CAAA,UAAE,CAAU,GAAG,EAAA,CAAG,cAAA,CAAe,EAAC,EAAG,EAAE;CAoBlF,CAnBC;AAsBF;IACA,gBAAgB;IAChB,UAAU,CAAC,UAAU,CAAC;IACtB;;;OAGG;IACH,UAAU,CAAC,cAAc,CAAC;IAC1B,gBAAgB;IAChB,UAAU,CAAC,cAAc,CAAC;IAC1B,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;IAC9B,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC;IAChC,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC;IAC3B,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;IAC9B,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC;AAC3B,CAAC","file":"carousel.js","sourceRoot":"","sourcesContent":["import {\n  AfterViewInit, Component, ContentChildren, forwardRef,\n  OnChanges, OnDestroy, QueryList, SimpleChanges,\n} from '@angular/core';\nimport { ElCarouselItem } from './carousel-item';\nimport { ElCarouselProps } from './carousel-props';\nimport { carouselBtnLeftAnimation, carouselBtnRightAnimation } from './animations';\nexport class ElCarousel extends ElCarouselProps implements AfterViewInit, OnChanges, OnDestroy {\n  \n   children: QueryList<ElCarouselItem>\n  subscriber: Function[] = []\n  items: any[] = []\n  hasLabel: boolean = false\n  timer: any\nconstructor(\n  ) {\n    super()\n  }\n/**\n * @param {?} nextValue\n * @param {?} eventType\n * @return {?}\n */\nbtnActionHandle(nextValue: number, eventType: string): void {\n    if (this.trigger !== eventType) return\n    this.autoplay && this.resetInterval()\n    this.setActiveItem(nextValue)\n  }\n/**\n * @param {?} nextValue\n * @param {?} eventType\n * @return {?}\n */\nindicatorActionHandle(nextValue: number, eventType: string): void {\n    if (this.indicatorTrigger !== eventType) return\n    this.autoplay && this.resetInterval()\n    this.setActiveItem(nextValue)\n  }\n/**\n * @param {?} index\n * @return {?}\n */\nsetActiveItem(index: number): void {\n    const /** @type {?} */ len = this.children.length\n    const /** @type {?} */ nextValue = index >= len ? 0 : index < 0 ? len - 1 : index\n    this.model = nextValue\n    this.subscriber.forEach(func => func())\n    this.modelChange.emit(this.model)\n  }\n/**\n * @return {?}\n */\nresetInterval(): void {\n    this.timer && clearInterval(this.timer)\n    this.timer = setInterval(() => {\n      this.setActiveItem(this.model + 1)\n    }, this.interval)\n  }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n    const /** @type {?} */ timer = setTimeout(() => {\n      this.children.forEach((item, index) => {\n        item.index = index\n        item.updateActive()\n        item.updateStyles()\n      })\n      // all labels are validated\n      this.hasLabel = !this.items.some(item => !item)\n      // auto play\n      this.autoplay && this.resetInterval()\n      clearTimeout(timer)\n    }, 0)\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges): void {\n    // not include model\n    if (!changes || !changes.model) return\n    this.setActiveItem(changes.model.currentValue)\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.timer && clearInterval(this.timer)\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-carousel',\n  animations: [carouselBtnLeftAnimation, carouselBtnRightAnimation],\n  template: `\n    <div class=\"el-carousel\"\n      #carousel\n      [class.el-carousel--card]=\"type === 'card'\"\n      (mouseenter)=\"carousel.hover = true\"\n      (mouseleave)=\"carousel.hover = false\">\n      <div class=\"el-carousel__container\" [ngStyle]=\"{height: height}\">\n        <button class=\"el-carousel__arrow el-carousel__arrow--left\"\n          #leftBtn\n          *ngIf=\"arrow !== 'never'\"\n          [@carouselBtnLeftAnimation]=\"arrow === 'always' || carousel.hover\"\n          (mouseenter)=\"btnActionHandle(model - 1,'hover')\"\n          (click)=\"btnActionHandle(model - 1, 'click')\">\n          <i class=\"el-icon-arrow-left\"></i>\n        </button>\n        <button class=\"el-carousel__arrow el-carousel__arrow--right\"\n          #rightBtn\n          *ngIf=\"arrow !== 'never'\"\n          [@carouselBtnRightAnimation]=\"arrow === 'always' || carousel.hover\"\n          (mouseenter)=\"btnActionHandle(model + 1, 'hover')\"\n          (click)=\"btnActionHandle(model + 1, 'click')\">\n          <i class=\"el-icon-arrow-right\"></i>\n        </button>\n        <ng-content></ng-content>\n      </div>\n      <ul class=\"el-carousel__indicators\" *ngIf=\"indicatorPosition !== 'none'\"\n        [class.el-carousel__indicators--labels]=\"hasLabel\"\n        [class.el-carousel__indicators--outside]=\"indicatorPosition === 'outside' || type === 'card'\">\n        <li *ngFor=\"let item of items; let i = index\"\n          class=\"el-carousel__indicator\"\n          [class.is-active]=\"i === model\"\n          (mouseenter)=\"indicatorActionHandle(i, 'hover')\"\n          (click)=\"indicatorActionHandle(i, 'click')\">\n          <button class=\"el-carousel__button\">\n            <span *ngIf=\"hasLabel\">{{item}}</span>\n          </button>\n        </li>\n      </ul>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'children': [{ type: ContentChildren, args: [forwardRef(() => ElCarouselItem), ] },],\n};\n}\n\nfunction ElCarousel_tsickle_Closure_declarations() {\n/** @type {?} */\nElCarousel.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElCarousel.ctorParameters;\n/** @type {?} */\nElCarousel.propDecorators;\n/** @type {?} */\nElCarousel.prototype.children;\n/** @type {?} */\nElCarousel.prototype.subscriber;\n/** @type {?} */\nElCarousel.prototype.items;\n/** @type {?} */\nElCarousel.prototype.hasLabel;\n/** @type {?} */\nElCarousel.prototype.timer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}