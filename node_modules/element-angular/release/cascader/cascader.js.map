{"version":3,"sources":["../../src/cascader/cascader.ts"],"names":[],"mappings":"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","file":"cascader.js","sourceRoot":"","sourcesContent":["import { Component, forwardRef, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { ElCascaderPoprs, Option } from './cascader-props';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nexport class ElCascader extends ElCascaderPoprs implements OnInit, OnDestroy, ControlValueAccessor {\n  \n  steps: any[] = []\n  menuVisible: boolean = false\n  inputHover: boolean = false\n  currentLabels: Option[] = []\n  globalListenFunc: Function\n/**\n * @param {?} renderer\n */\nconstructor(\nprivate renderer: Renderer2,\n  ) {\n    super()\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nclickHandle(event: MouseEvent): void {\n    event.stopPropagation()\n    if (this.elDisabled) return\n    \n    const /** @type {?} */ element: HTMLElement = /** @type {?} */(( event.target as HTMLElement))\n    const /** @type {?} */ isSelfTrigger = ['SPAN', 'I', 'INPUT'].find(v => v === element.tagName)\n    if (!isSelfTrigger) return\n    this.menuVisible = !this.menuVisible\n    \n    if (this.menuVisible) {\n      this.globalListenFunc = this.renderer.listen(\n        'document', 'click', () => {\n          this.menuVisible = false\n        }\n      )\n    } else {\n      this.globalListenFunc && this.globalListenFunc()\n    }\n  }\n/**\n * @return {?}\n */\nchangeLabels(): void {\n    const /** @type {?} */ nextValue: Option[] = []\n    this.steps.forEach((items: Option[]) => {\n      const /** @type {?} */ steps: Option[] = items.filter((item: Option) => item.active)\n      nextValue.push(steps[0])\n    })\n    this.currentLabels = nextValue\n    const /** @type {?} */ next = nextValue.map((item: Option) => item.value)\n    this.model = next\n    this.modelChange.emit(next)\n    this.controlChange(next)\n  }\n/**\n * @param {?=} event\n * @return {?}\n */\nclearValue(event?: Event): void {\n    event && event.stopPropagation()\n    this.currentLabels = []\n    const /** @type {?} */ step1 = this.options.map((option: Option) =>\n      Object.assign(option, {\n        active: false,\n      }))\n    this.steps = [step1]\n    this.menuVisible = false\n  }\n/**\n * @param {?} event\n * @param {?} step\n * @param {?} index\n * @return {?}\n */\nselectHandle(event: Event, step: number, index: number): any {\n    event.stopPropagation()\n    \n    if (this.steps[step][index].elDisabled) return\n    this.steps[step] = this.steps[step].map((item: Option, i: number) =>\n      Object.assign(item, { active: i === index }))\n    // reset steps\n    this.steps.length = step + 1\n    const /** @type {?} */ next = this.steps[step][index].children\n    \n    // go next\n    if (next && Array.isArray(next)) {\n      // change on select (props)\n      this.changeOnSelect && this.changeLabels()\n      const /** @type {?} */ nativeNext = next.map((item: Option) => Object.assign(item, { active: false }))\n      return this.steps.push(nativeNext)\n    }\n    // last step\n    this.changeLabels()\n    this.menuVisible = false\n  }\n/**\n * @return {?}\n */\nshowClearIcon(): boolean {\n    return !!(this.clearable && this.inputHover && this.currentLabels.length)\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    this.clearValue()\n    if (this.model && this.model.length) {\n      const /** @type {?} */ getLabel = (options: Option[], val: string) => {\n        const /** @type {?} */ item: Option = options.filter((item: Option) => item.value === val)[0]\n        return { children: item.children, val: item }\n      }\n      \n      let /** @type {?} */ options: Option[] = this.options\n      const /** @type {?} */ val: Option[] = this.model.map(v => {\n        const { children, val } = getLabel(options, v)\n        options = children\n        return val\n      })\n      this.currentLabels = val.filter(v => !!v)\n    }\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.globalListenFunc && this.globalListenFunc()\n  }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n    this.model = value\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: Function): void {\n    this.controlChange = fn\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: Function): void {\n    this.controlTouch = fn\n  }\nprivate controlChange: Function = () => {}\nprivate controlTouch: Function = () => {}\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-cascader',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ElCascader),\n    multi: true\n  }],\n  template: `\n    <span [class]=\"'el-cascader ' +  (menuVisible ? 'is-opened ' : '') + (elDisabled ? 'is-disabled ' : '')\n      + (size ? 'el-cascader--' + size : '')\"\n      (click)=\"clickHandle($event)\"\n      (mouseenter)=\"inputHover = true\" (mouseleave)=\"inputHover = false\">\n      <el-input [readonly]=\"true\"\n        [placeholder]=\"currentLabels.length ? '' : placeholder\"\n        [size]=\"size\" [elDisabled]=\"elDisabled\"\n        [icon]=\"showClearIcon() ? 'circle-close' : 'caret-bottom'\"\n        [iconClass]=\"showClearIcon() ? 'el-cascader__clearIcon' : (menuVisible ? 'is-reverse' : '')\"\n        (icon-click)=\"clearValue($event)\">\n      </el-input>\n    \n      <span class=\"el-cascader__label\" *ngIf=\"currentLabels.length\">\n        <ng-container *ngIf=\"allLevels\">\n          <ng-container *ngFor=\"let item of currentLabels; let i = index\">\n            {{ item.label }}\n            <span *ngIf=\"i < currentLabels.length - 1\"> / </span>\n          </ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"!allLevels\">\n          {{ currentLabels[currentLabels.length - 1].label }}\n        </ng-container>\n      </span>\n      <el-cascader-menu></el-cascader-menu>\n  </span>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n];\n}\n\nfunction ElCascader_tsickle_Closure_declarations() {\n/** @type {?} */\nElCascader.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElCascader.ctorParameters;\n/** @type {?} */\nElCascader.prototype.steps;\n/** @type {?} */\nElCascader.prototype.menuVisible;\n/** @type {?} */\nElCascader.prototype.inputHover;\n/** @type {?} */\nElCascader.prototype.currentLabels;\n/** @type {?} */\nElCascader.prototype.globalListenFunc;\n/** @type {?} */\nElCascader.prototype.controlChange;\n/** @type {?} */\nElCascader.prototype.controlTouch;\n/** @type {?} */\nElCascader.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}