{"version":3,"sources":["../../src/dropdown/dropdown.ts"],"names":[],"mappings":"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","file":"dropdown.js","sourceRoot":"","sourcesContent":["import {\n  AfterViewInit, Component, ElementRef, HostListener, OnDestroy, Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { Value } from './dropdown.item';\nimport { ElDropdownProps } from './dropdown.props';\nimport { dropAnimation } from './animation';\nimport { DocumentWrapper } from '../shared/services/index';\nexport class ElDropdown extends ElDropdownProps implements OnDestroy, AfterViewInit {\n  \n   list: any\n  \n  showMenu: boolean = false\n  timer: any\n  slideToBottom: boolean = true\n  listHeight: number\n  globalListenFunc: Function\n  globalScrollFunc: Function\n  \n   mouseleave = () => {\n    if (this.trigger !== 'hover') return\n    this.timer = setTimeout(() => {\n      this.closeMenu()\n      clearTimeout(this.timer)\n    }, 400)\n  }\n  \n   mouseenter = () => {\n    if (this.trigger !== 'hover') return\n    this.timer && clearTimeout(this.timer)\n    !this.showMenu && this.visibleChange.emit()\n    this.showMenu = true\n  }\n/**\n * @param {?} renderer\n * @param {?} sanitizer\n * @param {?} document\n * @param {?} el\n */\nconstructor(\nprivate renderer: Renderer2,\nprivate sanitizer: DomSanitizer,\nprivate document: DocumentWrapper,\nprivate el: ElementRef,\n  ) {\n    super()\n  }\n/**\n * @param {?=} event\n * @return {?}\n */\nopenMenu(event?: Event): void {\n    event && event.stopPropagation()\n    this.showMenu = !this.showMenu\n    this.visibleChange.emit()\n    this.globalListenFunc = this.renderer.listen(\n      'document', 'click', () => {\n        this.closeMenu()\n      }\n    )\n  }\n/**\n * @return {?}\n */\ncloseMenu(): void {\n    this.showMenu = false\n    this.visibleChange.emit()\n    this.globalListenFunc && this.globalListenFunc()\n  }\n/**\n * @param {?} model\n * @return {?}\n */\nselectHandle(model: Value): void {\n    console.log(model)\n    this.selected.emit(model)\n    \n    // select and hide menu (props)\n    this.hideOnClick && this.closeMenu()\n  }\n/**\n * @return {?}\n */\nmakeListStyles(): SafeStyle {\n    const /** @type {?} */ styles = `top: ${this.slideToBottom ? '100%' : (0 - this.listHeight) + 'px' };` +\n      `${this.menuAlign === 'end' ? 'right' : 'left'}: 0; position: absolute; min-width: 100px;`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n    this.listHeight = this.list.nativeElement.offsetHeight + 12\n    this.globalScrollFunc = this.renderer.listen(\n    'window', 'scroll', () => {\n      const /** @type {?} */ top = this.el.nativeElement.getBoundingClientRect().top\n      const /** @type {?} */ nextValue = this.document.documentElement.clientHeight - top > this.listHeight\n      if (nextValue !== this.slideToBottom) {\n        this.slideToBottom = nextValue\n      }\n    })\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.globalListenFunc && this.globalListenFunc()\n    this.globalScrollFunc && this.globalScrollFunc()\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-dropdown',\n  template: `\n    <ng-template #content>\n      <ng-content></ng-content>\n    </ng-template>\n    <div class=\"el-dropdown\">\n      <ng-container *ngIf=\"splitButton\">\n        <el-button [type]=\"type\" [size]=\"size\" (click)=\"openMenu($event)\">\n          <span>\n            <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\n            <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n          </span>\n        </el-button>\n      </ng-container>\n      <ng-container *ngIf=\"!splitButton\">\n        <span class=\"el-dropdown-link\" (click)=\"openMenu($event)\" style=\"cursor: pointer;\">\n          <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\n          <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n        </span>\n      </ng-container>\n      <div [style]=\"makeListStyles()\">\n        <ul class=\"el-dropdown-menu\" #list [@dropAnimation]=\"showMenu\">\n          <el-dropdown-item *ngFor=\"let item of model\" [model]=\"item\" (selected)=\"selectHandle(item)\">\n          </el-dropdown-item>\n        </ul>\n      </div>\n    </div>\n  `,\n  animations: [dropAnimation],\n  styles: ['.el-dropdown-menu { overflow: hidden; }'],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: DomSanitizer, },\n{type: DocumentWrapper, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'list': [{ type: ViewChild, args: ['list', ] },],\n'mouseleave': [{ type: HostListener, args: ['mouseleave', ] },],\n'mouseenter': [{ type: HostListener, args: ['mouseenter', ] },],\n};\n}\n\nfunction ElDropdown_tsickle_Closure_declarations() {\n/** @type {?} */\nElDropdown.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElDropdown.ctorParameters;\n/** @type {?} */\nElDropdown.propDecorators;\n/** @type {?} */\nElDropdown.prototype.list;\n/** @type {?} */\nElDropdown.prototype.showMenu;\n/** @type {?} */\nElDropdown.prototype.timer;\n/** @type {?} */\nElDropdown.prototype.slideToBottom;\n/** @type {?} */\nElDropdown.prototype.listHeight;\n/** @type {?} */\nElDropdown.prototype.globalListenFunc;\n/** @type {?} */\nElDropdown.prototype.globalScrollFunc;\n/** @type {?} */\nElDropdown.prototype.mouseleave;\n/** @type {?} */\nElDropdown.prototype.mouseenter;\n/** @type {?} */\nElDropdown.prototype.renderer;\n/** @type {?} */\nElDropdown.prototype.sanitizer;\n/** @type {?} */\nElDropdown.prototype.document;\n/** @type {?} */\nElDropdown.prototype.el;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}