{"version":3,"sources":["../../src/loading/loading.directive.ts"],"names":[],"mappings":"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","file":"loading.directive.js","sourceRoot":"","sourcesContent":["import {\n  Input, Directive, OnInit, ElementRef, Renderer2,\n  OnChanges, SimpleChanges,\n} from '@angular/core';\nimport { DocumentWrapper, WindowWrapper } from '../shared/services/index';\nexport class ElLoadingDirective implements OnInit, OnChanges {\n  \n   text: string\n   lock: boolean = false        // ban scroll on loading active\n   customClass: string\n   fullScreen: boolean = false\n   showLoading: boolean = false\n  \n  cacheElement: HTMLElement\n  cacheOverflow: string\n/**\n * @param {?} el\n * @param {?} renderer\n * @param {?} document\n * @param {?} window\n */\nconstructor(\nprivate el: ElementRef,\nprivate renderer: Renderer2,\nprivate document: DocumentWrapper,\nprivate window: WindowWrapper,\n  ) {\n  }\n/**\n * @param {?=} status\n * @return {?}\n */\ntoggleLock(status: boolean = false): void {\n    if (!this.lock) return\n    const /** @type {?} */ nextValue = status ? 'hidden' : this.cacheOverflow\n    this.renderer.setStyle(this.document.body, 'overflow', nextValue)\n  }\n/**\n * @return {?}\n */\nmakeHtml(): string {\n    this.lock && this.toggleLock(this.showLoading)\n    return `\n      <div class=\"el-loading-mask ${this.customClass} ${this.fullScreen ? ' is-fullscreen' : ''}\"\n        style=\"display: ${this.showLoading ? 'block': 'none'}\">\n        <div class=\"el-loading-spinner\">\n          <svg class=\"circular\" viewBox=\"25 25 50 50\">\n            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\"/>\n          </svg>\n          <p class=\"el-loading-text\" style=\"display: ${this.text ? 'block': 'none'}\">\n            ${this.text}\n          </p>\n        </div>\n      </div>\n    `\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    // save old overflow\n    if (this.lock) {\n      this.cacheOverflow = this.window.getComputedStyle(this.document.body).overflow\n    }\n    \n    this.cacheElement = this.renderer.createElement('div')\n    this.cacheElement.innerHTML = this.makeHtml()\n    const /** @type {?} */ parentElement = this.fullScreen ? this.document.body : this.el.nativeElement\n    if (!this.fullScreen) {\n      this.renderer.setStyle(this.el.nativeElement, 'position', 'relative')\n    }\n    this.renderer.appendChild(parentElement, this.cacheElement)\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges): void {\n    if (changes.showLoading && this.cacheElement) {\n      this.cacheElement.innerHTML = this.makeHtml()\n    }\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[el-loading]',\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n{type: DocumentWrapper, },\n{type: WindowWrapper, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'text': [{ type: Input },],\n'lock': [{ type: Input },],\n'customClass': [{ type: Input, args: ['custom-class', ] },],\n'fullScreen': [{ type: Input, args: ['full-screen', ] },],\n'showLoading': [{ type: Input, args: ['el-loading', ] },],\n};\n}\n\nfunction ElLoadingDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nElLoadingDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElLoadingDirective.ctorParameters;\n/** @type {?} */\nElLoadingDirective.propDecorators;\n/** @type {?} */\nElLoadingDirective.prototype.text;\n/** @type {?} */\nElLoadingDirective.prototype.lock;\n/** @type {?} */\nElLoadingDirective.prototype.customClass;\n/** @type {?} */\nElLoadingDirective.prototype.fullScreen;\n/** @type {?} */\nElLoadingDirective.prototype.showLoading;\n/** @type {?} */\nElLoadingDirective.prototype.cacheElement;\n/** @type {?} */\nElLoadingDirective.prototype.cacheOverflow;\n/** @type {?} */\nElLoadingDirective.prototype.el;\n/** @type {?} */\nElLoadingDirective.prototype.renderer;\n/** @type {?} */\nElLoadingDirective.prototype.document;\n/** @type {?} */\nElLoadingDirective.prototype.window;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}